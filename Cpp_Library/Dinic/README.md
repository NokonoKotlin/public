# 最大流 (Dinic アルゴリズム)
`ドキュメント最終更新 : 2024/5/7`

最大流を多項式時間で計算 ( $O(EV^2)$ )

## ライセンス (license)
Copyright (c) 2024 NokonoKotlin
Released under the MIT license
https://opensource.org/licenses/mit-license.php


## NokonoKotlin のお気持ち
- 他人に共有しない場所で個人使用してほしいよ。
- 競プロの提出とかも、ここのコードを使っているなら他人に共有しないでほしいよ。
- ライブラリに組み込むのは自由だけど、自分のライブラリと称するのはやめてほしいよ。



## 仕様 & 概要


- T 型の フロー (Dinic Algorithm)
- はじめ、全ての頂点対 (u,v) に対して u → v の容量は 0。
- コンストラクタには頂点数 V を渡す。
    - 頂点番号は 0 以上 V 未満
- 辺は edge クラスで表す
    - メンバは {容量,逆辺の edge へのポインタ} , 端点 u , v (u → v)
    - 別で隣接リスト G があるので、端点をメンバとして持つ必要性は薄いが、edges() で使用する
- add_edge(u,v,c) 
    -  有向辺 u → v の容量を +c する。(c は 0 以上)
- path(u,v) 
    -  容量が正の辺のみを通って u→v の最短パスを求める。
    - 最短パス上の edge のポインタを通った順に並べて返す 
    - 単体使用の前にも bfs(s) してある必要がある。
    - t に到達できなかった場合は空集合を返す
- Flow(u,v,f) 
    -  u → v の 1 本のパス にフローを f 流す。流せなければ false を返す
- MaxFlow(u,v)      
    -  u → v のネットワークにフローを流せるだけ流し、流した流量を返す。
- edges()
    - これまでにフローが流れた辺の情報を返す。
    - 逆辺に流れたという情報は含まない。
    - 流れた辺に対して、流れた分だけ容量をもつ edge クラスオブジェクトを生成して vector に入れて返す。
        - 返り値の edge はグラフの辺とは無関係
- #### 設計
    - グラフは隣接リスト G を参照する。
        - dfs で見る辺を枝刈りするため、各頂点に対して次にみるべき頂点をメモしておく。
        - iter[x]   
            -  dfs において頂点 x から、次に参照するべき辺の G[x] における index
        - backward[x]
            -  x から移動できる辺がなくなったとき、戻るべき頂点
    - 多重辺を回避するため G とは別に辺集合 E を管理する。
    - 多重辺を許す必要がある場合は add_edge を編集する。